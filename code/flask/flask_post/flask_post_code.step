{"block":{"name":"code","text":"<p><strong>Flask &ndash; route post checker </strong></p>\n\n<p>Этот шаг проверяет прием формы,&nbsp;отправляя&nbsp;пост запрос.</p>\n\n<p>Чтобы использовать этот тип задания</p>\n\n<p>&ndash; cформулируйте инструкцию для пользователя</p>\n\n<p>&ndash; оформите&nbsp;тестовые данные: задание отправляет словарь, который был передан со стандартного ввода</p>\n\n<p>&ndash; измените путь до&nbsp;роута,&nbsp; если это необходимо</p>\n\n<p>При необходимости вы сможете отредактировать шаблон, чтобы начать проверять&nbsp;статус-код и заголовки</p>\n","video":null,"options":{"execution_time_limit":5,"execution_memory_limit":256,"limits":{"python3":{"time":15,"memory":256}},"code_templates":{"python3":"from flask import Flask, request\napp = Flask(__name__)\n\n\n@app.route(\"/send/\", methods=[\"POST\"])\ndef render_send():  \n\n    login = request.form.get(\"login\")\n    password = request.form.get(\"password\")\n    return f\"Имя: {login} Пароль: {password}\""},"code_templates_header_lines_count":{"python3":0},"code_templates_options":{},"samples":[["{'login': 'stepik', 'password':'iamawesome'}","Форма отправлена"]],"is_run_user_code_allowed":true},"subtitle_files":[],"source":{"code":"# This is a sample Code Challenge\n# Learn more: https://stepik.org/lesson/9173\n# Ask your questions via support@stepik.org\n\ndef generate():\n    return []\n\ndef check(reply, clue):\n    return reply.strip() == clue.strip()\n\n# def solve(dataset):\n#     a, b = dataset.split()\n#     return str(int(a) + int(b))","execution_time_limit":5,"execution_memory_limit":256,"samples_count":1,"templates_data":"::python3\n::header\n\n::code \nfrom flask import Flask, request\napp = Flask(__name__)\n\n\n@app.route(\"/send/\", methods=[\"POST\"])\ndef render_send():  \n    \n    login = request.form.get(\"login\")\n    password = request.form.get(\"password\")\n    return f\"Имя: {login} Пароль: {password}\"\n        \n::footer\n\nimport json\n        \nwith app.app_context(): \n    \n    data = eval(input())\n    address = \"/send/\"\n    \n    app.testing = True\n    response = app.test_client().post(address,data=data)\n    data = response.data.decode()\n    \n    #print(f\"Status code: {response.status_code}\")\n    #print(f\"Headers: {response.headers}\")\n    #print(f\"Body: {data}\")          \n\n    print(data) ","is_time_limit_scaled":true,"is_memory_limit_scaled":true,"is_run_user_code_allowed":true,"manual_time_limits":[],"manual_memory_limits":[],"test_archive":[],"test_cases":[["{'login': 'stepik', 'password':'iamawesome'}","Имя: stepik Пароль: iamawesome"]]},"subtitles":{},"tests_archive":"/api/step-sources/1117047/tests","feedback_correct":"","feedback_wrong":""},"id":"1117047","has_review":false,"time":"2020-03-04T16:44:16.665Z"}