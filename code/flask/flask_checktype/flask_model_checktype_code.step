{"block":{"name":"code","text":"<p><strong>Flask – проверка модели</strong></p>\n\n<p>В этом типе задания мы проверяем наличие в модели поля и его типа</p>","video":null,"options":{"execution_time_limit":5,"execution_memory_limit":256,"limits":{"python3":{"time":15,"memory":256}},"code_templates":{"python3":"class User(db.Model):\n\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String)\n    email = db.Column(db.String)"},"code_templates_header_lines_count":{"python3":13},"code_templates_footer_lines_count":{"python3":6},"code_templates_options":{},"samples":[["",""]],"is_run_user_code_allowed":true},"subtitle_files":[],"source":{"code":"# This is a sample Code Challenge\n# Learn more: https://stepik.org/lesson/9173\n# Ask your questions via support@stepik.org\n\ndef generate():\n    return []\n\ndef check(reply, clue):\n    return reply.strip() == clue.strip()\n\n# def solve(dataset):\n#     a, b = dataset.split()\n#     return str(int(a) + int(b))","execution_time_limit":5,"execution_memory_limit":256,"samples_count":1,"templates_data":"::python3\n::header\nfrom flask import Flask\nimport sqlalchemy\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_admin import Admin\nfrom flask_admin.contrib.sqla import ModelView\n    \napp = Flask(__name__)\napp.secret_key = \"randomstring\"\napp.config['SQLALCHEMY_DATABASE_URI'] = \"sqlite:///:memory:\"\napp.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False\n\n    \ndb = SQLAlchemy(app)\n\n::code\n\nclass User(db.Model):\n\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String)\n    email = db.Column(db.String)\n\n::footer\n        \nfrom sqlalchemy import inspect\nuser_inspection = inspect(User)\n\nassert hasattr(user_inspection.columns,\"name\"), \"Отсутствует поле name\"\n\nassert str(type(user_inspection.columns.name.type)) == \"<class 'sqlalchemy.sql.sqltypes.String'>\", \"Поле name – не строка\"\n","is_time_limit_scaled":true,"is_memory_limit_scaled":true,"is_run_user_code_allowed":true,"manual_time_limits":[],"manual_memory_limits":[],"test_archive":[],"test_cases":[["",""]]},"subtitles":{},"tests_archive":"/api/step-sources/1123655/tests","feedback_correct":"","feedback_wrong":""},"id":"1123655","has_review":false,"time":"2020-03-08T20:58:48.480Z"}